language: c
compiler: gcc

env:
  - TARGET="go-1.7.1"
  - TARGET="node-v4.6.0"
  - TARGET="perl-5.24.0"
  - TARGET="php-7.0.10" PHP_BUILD_EXTRA_MAKE_ARGUMENTS="-j8"
  - TARGET="python-3.5.2"
  - TARGET="ruby-2.3.1"

# https://github.com/php-build/php-build/blob/master/.travis.yml
addons:
  apt:
    packages:
      - libmcrypt-dev
      - libtidy-dev
      - re2c

script: "./${TARGET/-*}-install ${TARGET/*-} /tmp/${TARGET}"

after_failure:
  - "cat /tmp/${USER}-${TARGET/-*}-install.log"
